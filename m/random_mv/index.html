<!DOCTYPE HTML>
<html lang="ja">

<head>
    <meta charset="utf-8" />
    <title>プロジェクトセカイ MVランダム再生画面</title>
    <style>
        .video {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            ;
        }

        .video iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
    </style>
    <script src="https://bmyds1.github.io/js/funcs.js"></script>
    <script src="https://bmyds1.github.io/pj_sekai/data/constructors.js"></script>
    <script src="https://bmyds1.github.io/pj_sekai/data/units.js"></script>
    <script src="https://bmyds1.github.io/pj_sekai/data/characters.js"></script>
    <script src="https://bmyds1.github.io/pj_sekai/data/vocalTypes.js"></script>
    <script src="https://bmyds1.github.io/pj_sekai/data/musics.js"></script>
    <script>
        window.addEventListener("load", () => {
            let mv_list = [];
            for (let m of musics) {
                for (let u of m.urls) {
                    if (u.title == "2DMV" || u.title == "3DMV") {
                        mv_list.push(u.link);
                    }
                }
            }
            const url = mv_list[Math.floor(Math.random() * mv_list.length)];
            location.href = url;
            let iframe_url = url.replace("watch?v=", "embed/") + "?rel=0";
            let iframe = document.createElement("iframe");
            iframe.src = iframe_url;
            document.getElementById("div_video").appendChild(iframe);            
        });
    </script>
</head>

<body>
    <div id="main" class="main">
        <div id="div_video" class="video"></div>
    </div>
</body>

</html>